{"version":3,"sources":["utils.js","contexts/QuizContext.js","components/Answer.js","components/Question.js","API.js","App.js","index.js"],"names":["shuffleAnswers","question","incorrect_answers","correct_answer","map","answer","sort","Math","random","value","a","b","obj","htmlDecode","input","DOMParser","parseFromString","documentElement","textContent","initialState","questions","undefined","curQuestionNum","showResults","correctAnswers","answers","selectedAnswer","reducer","state","action","type","length","payload","QuizContext","createContext","QuizProvider","children","useReducer","Provider","Answer","answerText","index","onSelectAnswer","correctAnswer","correctAnswerClass","wrongAnswerClass","disabledClass","elo","className","onClick","Question","useContext","quizState","dispatch","currentQuestion","DIFFICULTY","fetchQuestions","amount","difficulty","url","fetch","res","json","data","App","useState","isLoading","setIsLoading","useEffect","then","results","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a5e3d960.chunk.js","sourcesContent":["export const shuffleAnswers = question => {\r\n  const allAnswers = [...question.incorrect_answers, question.correct_answer];\r\n\r\n  return allAnswers\r\n    .map(answer => ({ sort: Math.random(), value: answer }))\r\n    .sort((a, b) => a.sort - b.sort)\r\n    .map(obj => obj.value);\r\n};\r\n\r\nexport const htmlDecode = input => {\r\n  const parser = new DOMParser().parseFromString(input, 'text/html');\r\n  return parser.documentElement.textContent;\r\n};\r\n","import { createContext, useReducer } from 'react';\r\nimport { shuffleAnswers } from '../utils';\r\n\r\nconst initialState = {\r\n  questions: undefined,\r\n  curQuestionNum: 0,\r\n  showResults: false,\r\n  correctAnswers: 0,\r\n  answers: undefined,\r\n  selectedAnswer: '',\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'NEXT': {\r\n      const showResults = state.curQuestionNum === state.questions.length - 1;\r\n      const curQuestionNum = showResults\r\n        ? state.curQuestionNum\r\n        : state.curQuestionNum + 1;\r\n      const answers = showResults\r\n        ? []\r\n        : shuffleAnswers(state.questions[curQuestionNum]);\r\n      return {\r\n        ...state,\r\n        curQuestionNum,\r\n        showResults,\r\n        answers,\r\n        selectedAnswer: '',\r\n      };\r\n    }\r\n    case 'RESTART': {\r\n      return initialState;\r\n    }\r\n    case 'ANSWER_CLICK': {\r\n      const correctAnswers =\r\n        action.payload === state.questions[state.curQuestionNum].correct_answer\r\n          ? state.correctAnswers + 1\r\n          : state.correctAnswers;\r\n      return {\r\n        ...state,\r\n        selectedAnswer: action.payload,\r\n        correctAnswers,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const QuizContext = createContext();\r\n\r\nexport const QuizProvider = ({ children }) => {\r\n  const value = useReducer(reducer, initialState);\r\n  return <QuizContext.Provider value={value}>{children}</QuizContext.Provider>;\r\n};\r\n","import { htmlDecode } from '../utils';\r\n\r\nconst Answer = ({\r\n  answerText,\r\n  index,\r\n  onSelectAnswer,\r\n  correctAnswer,\r\n  selectedAnswer,\r\n}) => {\r\n  const letters = ['A', 'B', 'C', 'D'];\r\n  const isAnswerCorrect = selectedAnswer && answerText === correctAnswer;\r\n  const isAnswerWrong =\r\n    selectedAnswer === answerText && selectedAnswer !== correctAnswer;\r\n\r\n  const correctAnswerClass = isAnswerCorrect ? 'correct-answer' : '';\r\n  const wrongAnswerClass = isAnswerWrong ? 'wrong-answer' : '';\r\n  const disabledClass = selectedAnswer ? 'disabled-answer' : '';\r\n\r\n  let elo = htmlDecode(answerText);\r\n\r\n  return (\r\n    <div\r\n      className={`answer ${correctAnswerClass} ${wrongAnswerClass} ${disabledClass}`}\r\n      onClick={() => onSelectAnswer(answerText)}\r\n    >\r\n      <div className=\"answer-letter\">{letters[index]}</div>\r\n      <div className=\"answer-text\">{elo}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Answer;\r\n","import { useContext } from 'react';\r\nimport { QuizContext } from '../contexts/QuizContext';\r\nimport Answer from './Answer';\r\nimport { htmlDecode } from '../utils';\r\n\r\nconst Question = () => {\r\n  const [quizState, dispatch] = useContext(QuizContext);\r\n  const currentQuestion = quizState.questions[quizState.curQuestionNum];\r\n\r\n  return (\r\n    <>\r\n      <div className=\"question-text\">\r\n        {htmlDecode(currentQuestion.question)}\r\n      </div>\r\n      <div className=\"answers\">\r\n        {quizState.answers.map((answer, index) => (\r\n          <Answer\r\n            key={index}\r\n            answerText={answer}\r\n            index={index}\r\n            selectedAnswer={quizState.selectedAnswer}\r\n            correctAnswer={currentQuestion.correct_answer}\r\n            onSelectAnswer={answerText =>\r\n              dispatch({ type: 'ANSWER_CLICK', payload: answerText })\r\n            }\r\n          />\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Question;\r\n","export const DIFFICULTY = {\r\n  EASY: 'easy',\r\n  MEDIUM: 'medium',\r\n  HARD: 'hard',\r\n};\r\n\r\nexport const fetchQuestions = async (amount, difficulty) => {\r\n  const url = `https://opentdb.com/api.php?amount=${amount}&difficulty=${difficulty}&type=multiple`;\r\n\r\n  const res = await fetch(url);\r\n\r\n  const data = await res.json();\r\n\r\n  return data;\r\n};\r\n","import { useContext, useState, useEffect } from 'react';\nimport { QuizContext } from './contexts/QuizContext';\nimport Question from './components/Question';\nimport { DIFFICULTY, fetchQuestions } from './API';\nimport { shuffleAnswers } from './utils';\n\nfunction App() {\n  const [quizState, dispatch] = useContext(QuizContext);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    fetchQuestions(10, DIFFICULTY.EASY).then(data => {\n      quizState.questions = data.results;\n      quizState.answers = shuffleAnswers(quizState.questions[0]);\n      setIsLoading(false);\n    }); //eslint-disable-next-line\n  }, []);\n\n  return (\n    <>\n      {!isLoading && (\n        <>\n          {quizState.showResults && (\n            <div className=\"container\">\n              <div className=\"result\">\n                <div className=\"result-msg\">Well Done!</div>\n                <div className=\"result-details\">\n                  You've got {quizState.correctAnswers} /{' '}\n                  {quizState.questions.length} points!\n                </div>\n                <div\n                  className=\"next-btn\"\n                  onClick={() => dispatch({ type: 'RESTART' })}\n                >\n                  Try Again\n                </div>\n              </div>\n            </div>\n          )}\n          {!quizState.showResults && (\n            <div className=\"container\">\n              <div className=\"card\">\n                <div className=\"score\">\n                  Question {quizState.curQuestionNum + 1} /{' '}\n                  {quizState.questions.length}\n                </div>\n                <Question />\n                <div\n                  className=\"next-btn\"\n                  onClick={() => dispatch({ type: 'NEXT' })}\n                >\n                  Next Question\n                </div>\n              </div>\n            </div>\n          )}\n        </>\n      )}\n      {isLoading && <div>Loading...</div>}\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { QuizProvider } from './contexts/QuizContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <QuizProvider>\n      <App />\n    </QuizProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}